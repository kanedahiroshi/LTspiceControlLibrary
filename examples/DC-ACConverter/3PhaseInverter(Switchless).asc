Version 4
SHEET 1 1304 1156
WIRE -1968 -1024 -2208 -1024
WIRE -1712 -1024 -1968 -1024
WIRE -1488 -1024 -1712 -1024
WIRE -1408 -848 -1920 -848
WIRE -1360 -848 -1408 -848
WIRE -1184 -848 -1280 -848
WIRE -1008 -848 -1184 -848
WIRE -1008 -832 -1008 -848
WIRE -944 -784 -976 -784
WIRE -2208 -768 -2208 -1024
WIRE -1008 -768 -976 -784
WIRE -1408 -752 -1664 -752
WIRE -1360 -752 -1408 -752
WIRE -1184 -752 -1280 -752
WIRE -1136 -752 -1184 -752
WIRE -1072 -720 -1088 -720
WIRE -928 -720 -944 -720
WIRE -1136 -688 -1136 -752
WIRE -928 -688 -928 -720
WIRE -928 -688 -1136 -688
WIRE -1408 -656 -1440 -656
WIRE -1360 -656 -1408 -656
WIRE -1184 -656 -1280 -656
WIRE -1088 -656 -1088 -720
WIRE -1088 -656 -1184 -656
WIRE -1920 -640 -1920 -848
WIRE -1664 -640 -1664 -752
WIRE -1440 -640 -1440 -656
WIRE -1968 -560 -1968 -1024
WIRE -1712 -560 -1712 -1024
WIRE -1488 -560 -1488 -1024
WIRE -1968 -464 -1968 -480
WIRE -1920 -464 -1920 -480
WIRE -1920 -464 -1968 -464
WIRE -1712 -464 -1712 -480
WIRE -1664 -464 -1664 -480
WIRE -1664 -464 -1712 -464
WIRE -1488 -464 -1488 -480
WIRE -1440 -464 -1440 -480
WIRE -1440 -464 -1488 -464
WIRE -2208 -432 -2208 -688
WIRE -1968 -432 -1968 -464
WIRE -1968 -432 -2208 -432
WIRE -1712 -432 -1712 -464
WIRE -1712 -432 -1968 -432
WIRE -1488 -432 -1488 -464
WIRE -1488 -432 -1712 -432
WIRE -2208 -400 -2208 -432
WIRE -1344 -240 -1376 -240
WIRE -1280 -240 -1344 -240
WIRE -1088 -240 -1216 -240
WIRE -960 -240 -1088 -240
WIRE -880 -240 -896 -240
WIRE -752 -240 -768 -240
WIRE -2192 -208 -2208 -208
WIRE -2016 -208 -2192 -208
WIRE -1824 -208 -1920 -208
WIRE -1744 -208 -1760 -208
WIRE -1664 -208 -1680 -208
WIRE -1536 -208 -1552 -208
WIRE -1456 -208 -1472 -208
WIRE -1376 -208 -1376 -240
WIRE -1376 -208 -1392 -208
WIRE -1248 -208 -1296 -208
WIRE -928 -208 -976 -208
WIRE -1744 -176 -1760 -176
WIRE -1664 -176 -1680 -176
WIRE -1536 -176 -1552 -176
WIRE -1456 -176 -1472 -176
WIRE -1344 -176 -1392 -176
WIRE -1280 -176 -1344 -176
WIRE -1168 -176 -1216 -176
WIRE -960 -176 -1168 -176
WIRE -880 -176 -896 -176
WIRE -752 -176 -768 -176
WIRE -2048 -144 -2064 -144
WIRE -2016 -144 -2048 -144
WIRE -1824 -144 -1920 -144
WIRE -1376 -144 -1392 -144
WIRE -1296 -144 -1296 -208
WIRE -1248 -144 -1296 -144
WIRE -976 -144 -976 -208
WIRE -928 -144 -976 -144
WIRE -2208 -112 -2208 -208
WIRE -2064 -112 -2064 -144
WIRE -1376 -112 -1376 -144
WIRE -1344 -112 -1376 -112
WIRE -1280 -112 -1344 -112
WIRE -1200 -112 -1216 -112
WIRE -960 -112 -1200 -112
WIRE -880 -112 -896 -112
WIRE -752 -112 -768 -112
WIRE -1712 -96 -1712 -128
WIRE -1712 -96 -1728 -96
WIRE -1296 -80 -1296 -144
WIRE -1248 -80 -1296 -80
WIRE -976 -80 -976 -144
WIRE -928 -80 -976 -80
WIRE -1792 -64 -1792 -96
WIRE -1504 -64 -1504 -128
WIRE -1504 -64 -1792 -64
WIRE -1168 -48 -1168 -176
WIRE -1088 -48 -1088 -240
WIRE -1296 -32 -1296 -80
WIRE -1200 -16 -1200 -112
WIRE -976 -16 -976 -80
WIRE -2128 48 -2144 48
WIRE -2048 48 -2064 48
WIRE -1968 48 -1968 32
WIRE -1968 48 -1984 48
WIRE -2048 80 -2064 80
WIRE -1968 80 -1984 80
WIRE -1696 96 -1728 96
WIRE -1680 96 -1696 96
WIRE -1600 96 -1616 96
WIRE -1520 96 -1536 96
WIRE -1440 96 -1520 96
WIRE -1408 96 -1440 96
WIRE -2128 112 -2144 112
WIRE -1968 112 -1968 80
WIRE -1856 112 -1904 112
WIRE -1792 112 -1792 -64
WIRE -1792 112 -1856 112
WIRE -1728 144 -1728 96
WIRE -1520 144 -1520 96
WIRE -1440 144 -1456 144
WIRE -1376 144 -1376 128
WIRE -1376 144 -1440 144
WIRE -1696 288 -1728 288
WIRE -1680 288 -1696 288
WIRE -1600 288 -1616 288
WIRE -1520 288 -1536 288
WIRE -1440 288 -1520 288
WIRE -1408 288 -1440 288
WIRE -1280 288 -1344 288
WIRE -1728 336 -1728 288
WIRE -1520 336 -1520 288
WIRE -1440 336 -1456 336
WIRE -1376 336 -1376 320
WIRE -1376 336 -1440 336
FLAG -2208 -400 0
FLAG -1408 -848 U
FLAG -1408 -752 V
FLAG -2208 -1024 DC_P
FLAG -1408 -656 W
FLAG -2208 -32 0
FLAG -2064 -32 0
FLAG -2192 -208 iu
FLAG -2048 -144 iw
FLAG -1664 -208 ip
FLAG -1664 -176 iq
FLAG -1696 96 ip*
FLAG -1440 96 vp*_p
FLAG -1440 144 vp*_i
FLAG -1648 128 ip
FLAG -1728 224 0
FLAG -1280 96 vp*
FLAG -1696 288 iq*
FLAG -1440 288 vq*_p
FLAG -1440 336 vq*_i
FLAG -1648 320 iq
FLAG -1728 416 0
FLAG -1280 288 vq*
FLAG -1552 -208 vp*
FLAG -1552 -176 vq*
FLAG -1424 -32 DC_P
FLAG -1344 -240 vu*
FLAG -1344 -176 vv*
FLAG -1344 -112 vw*
FLAG -1184 -848 R
FLAG -1184 -752 S
FLAG -1184 -656 T
FLAG -944 -784 N
FLAG -1856 112 phase_ac
FLAG -2208 48 R
FLAG -2176 80 S
FLAG -2208 112 T
FLAG -2176 144 R
FLAG -1904 32 vp_ac
FLAG -1312 128 vp_ac
FLAG -752 -240 mu*
FLAG -752 -176 mv*
FLAG -752 -112 mw*
FLAG -1536 -496 0
FLAG -1760 -496 0
FLAG -2016 -496 0
FLAG -2016 -544 mu*
FLAG -1760 -544 mv*
FLAG -1536 -544 mw*
SYMBOL voltage -2208 -784 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 350
SYMBOL ind -1376 -832 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {Lfilter}
SYMBOL ind -1376 -736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value {Lfilter}
SYMBOL ind -1376 -640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value {Lfilter}
SYMBOL LTspiceControlLibrary\\Sources\\3PhaseWyeSinWaveVoltage -1008 -848 R0
WINDOW 3 27 44 Left 2
SYMATTR Value Vamp={200*sqrt(2/3)} Freq=50
SYMATTR InstName U9
SYMBOL bv -2208 -128 R0
SYMATTR InstName B1
SYMATTR Value V=I(L1)
SYMBOL bv -2064 -128 R0
SYMATTR InstName B2
SYMATTR Value V=I(L3)
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\uw-abTransformation -1824 -256 R0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation -1744 -256 R0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg -1776 -64 R0
SYMATTR InstName U6
SYMBOL sub -1664 128 R0
SYMATTR InstName U7
SYMBOL Integral -1504 176 R0
SYMATTR Value T=2.5m
SYMATTR InstName U8
SYMBOL Proportional -1584 128 R0
SYMATTR Value K=5
SYMATTR InstName U10
SYMBOL add -1392 128 R0
SYMATTR InstName U11
SYMBOL voltage -1728 128 R0
SYMATTR InstName V2
SYMATTR Value {10*sqrt(3)}
SYMBOL sub -1664 320 R0
SYMATTR InstName U12
SYMBOL Integral -1504 368 R0
SYMATTR Value T=2.5m
SYMATTR InstName U13
SYMBOL Proportional -1584 320 R0
SYMATTR Value K=5
SYMATTR InstName U14
SYMBOL add -1392 320 R0
SYMATTR InstName U15
SYMBOL voltage -1728 320 R0
SYMATTR InstName V3
SYMATTR Value {3*sqrt(3)}
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation -1536 -256 R0
SYMATTR InstName U16
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\ab-uvwTransformation -1456 -256 R0
SYMATTR InstName U17
SYMBOL LTspiceControlLibrary\\Math\\Operands\\rcp -1408 0 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -1264 -208 R0
SYMATTR InstName U18
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -1264 -144 R0
SYMATTR InstName U19
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -1264 -80 R0
SYMATTR InstName U20
SYMBOL LTspiceControlLibrary\\Math\\Functions\\min -1184 -48 M180
SYMATTR InstName U21
SYMBOL LTspiceControlLibrary\\Math\\Functions\\min -1104 -48 M180
SYMATTR InstName U22
SYMBOL LTspiceControlLibrary\\Math\\Operands\\inc -1024 16 R0
SYMATTR InstName U23
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -944 -208 R0
SYMATTR InstName U24
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -944 -144 R0
SYMATTR InstName U25
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -944 -80 R0
SYMATTR InstName U26
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -1344 0 R0
SYMATTR Value K=2
SYMATTR InstName U31
SYMBOL LTspiceControlLibrary\\TransferFunctions\\1stOrderLag -2000 -176 R0
SYMATTR Value K=1 T=50u
SYMATTR InstName U27
SYMBOL LTspiceControlLibrary\\TransferFunctions\\1stOrderLag -2000 -112 R0
SYMATTR Value K=1 T=50u
SYMATTR InstName U28
SYMBOL add -1328 128 R0
SYMATTR InstName U29
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -2192 80 R0
SYMATTR InstName U30
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -2192 144 R0
SYMATTR InstName U32
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\uw-abTransformation -2128 0 R0
SYMATTR InstName U34
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xy-rpTransformation -2048 0 R0
SYMATTR InstName U35
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -1952 64 R0
SYMATTR InstName U33
SYMATTR Value K={1/sqrt(3)}
SYMBOL LTspiceControlLibrary\\Math\\Operands\\addk -1952 144 R0
SYMATTR InstName U36
SYMATTR Value k={-pi/6}
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit -864 -208 R0
SYMATTR Value y=-1 z=1
SYMATTR InstName U1
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit -864 -144 R0
SYMATTR Value y=-1 z=1
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit -864 -80 R0
SYMATTR Value y=-1 z=1
SYMATTR InstName U37
SYMBOL res -1936 -656 R0
SYMATTR InstName Rs1
SYMATTR Value 1m
SYMBOL res -1680 -656 R0
SYMATTR InstName Rs2
SYMATTR Value 1m
SYMBOL res -1456 -656 R0
SYMATTR InstName Rs3
SYMATTR Value 1m
SYMBOL LTspiceControlLibrary\\Sources\\DCTransformer -1968 -576 R0
SYMATTR InstName U38
SYMATTR Value Vc1=-1 Vc2=1
SYMBOL LTspiceControlLibrary\\Sources\\DCTransformer -1712 -576 R0
SYMATTR InstName U39
SYMATTR Value Vc1=-1 Vc2=1
SYMBOL LTspiceControlLibrary\\Sources\\DCTransformer -1488 -576 R0
SYMATTR InstName U40
SYMATTR Value Vc1=-1 Vc2=1
TEXT -2216 -1184 Left 2 !.tran 40m
TEXT -2216 -1152 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)\n.model D D(Ron=.1 Roff=1Meg Vfwd=.4)
TEXT -2208 -288 Left 2 ;sensor
TEXT -1376 -904 Left 2 !.param Lfilter=1m
TEXT -1208 -288 Left 2 ;two-phase modulation
TEXT -2256 -1224 Left 4 ;Config
TEXT -2296 -1280 Left 5 ;Three-Phase Inverter
TEXT -2256 -1088 Left 4 ;Circuit
TEXT -2248 -328 Left 4 ;Controller
TEXT -1184 64 Left 2 ;NOTE:\nIf you want to simulate the dead time of gate signals with accuracy,\nset maximum timestep of transient analysis below the dead time\nor set the parameter 'tripdt' of PWM below the dead time.\nSmaller value brings more accurate but slower simulation.
TEXT -1744 40 Left 2 ;current controller
TEXT -1824 -288 Left 2 ;coordinate transformation
TEXT -1744 -1152 Left 2 !.ic I(L1)=0 I(L2)=0 I(L3)=0
TEXT -1416 -1144 Left 2 ;NOTE\nSwitching elements are approximated\nby imaginary variable dc transformers.\nThis reduces transient analysis time and\nallows ac analysis.\nDiscontinuous conduction mode and\nnonconduction mode are NOT considered.
