Version 4
SHEET 1 880 680
WIRE -928 -304 -1056 -304
WIRE -720 -304 -848 -304
WIRE -640 -304 -720 -304
WIRE -496 -304 -576 -304
WIRE -384 -304 -496 -304
WIRE -1056 -272 -1056 -304
WIRE -720 -256 -720 -304
WIRE -496 -256 -496 -304
WIRE -384 -256 -384 -304
WIRE -1056 -128 -1056 -192
WIRE -720 -128 -720 -176
WIRE -720 -128 -1056 -128
WIRE -496 -128 -496 -192
WIRE -496 -128 -720 -128
WIRE -384 -128 -384 -176
WIRE -384 -128 -496 -128
WIRE -1056 -112 -1056 -128
WIRE -1024 80 -1056 80
WIRE -1008 80 -1024 80
WIRE -928 80 -944 80
WIRE -848 80 -864 80
WIRE -768 80 -848 80
WIRE -736 80 -768 80
WIRE -624 80 -672 80
WIRE -528 80 -624 80
WIRE -448 80 -464 80
WIRE -368 80 -384 80
WIRE -288 80 -368 80
WIRE -256 80 -288 80
WIRE -176 80 -192 80
WIRE -160 80 -176 80
WIRE -848 128 -848 80
WIRE -768 128 -784 128
WIRE -704 128 -704 112
WIRE -704 128 -768 128
WIRE -624 128 -640 128
WIRE -608 128 -624 128
WIRE -496 128 -496 112
WIRE -496 128 -512 128
WIRE -368 128 -368 80
WIRE -288 128 -304 128
WIRE -224 128 -224 112
WIRE -224 128 -288 128
WIRE -128 176 -128 112
WIRE -1056 192 -1056 80
WIRE -640 192 -640 128
FLAG -1056 -112 0
FLAG -768 -240 X
FLAG -96 80 X
FLAG -128 256 0
FLAG -768 -192 0
FLAG -384 -304 OUT
FLAG -1056 272 0
FLAG -976 112 OUT
FLAG -1024 80 v*
FLAG -1056 -304 IN
FLAG -768 80 il*_p
FLAG -768 128 il*_i
FLAG -624 80 il*
FLAG -288 80 m*_p
FLAG -288 128 m*_i
FLAG -176 80 m*
FLAG -640 272 0
FLAG -624 128 il
SYMBOL voltage -1056 -288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL cap -512 -256 R0
SYMATTR InstName C1
SYMATTR Value 100u
SYMBOL diode -640 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL res -400 -272 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL ind -944 -288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10m
SYMBOL sw -720 -160 M180
SYMATTR InstName S1
SYMBOL voltage -1056 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(10 20 0 5m)
SYMBOL sub -992 112 R0
SYMATTR InstName U1
SYMBOL Integral -832 160 R0
SYMATTR Value T=10m
SYMATTR InstName U2
SYMBOL nle -144 112 R0
SYMATTR InstName U4
SYMBOL Proportional -912 112 R0
SYMATTR Value K=0.1
SYMATTR InstName U5
SYMBOL add -720 112 R0
SYMATTR InstName U6
SYMBOL sub -512 112 R0
SYMATTR InstName U7
SYMBOL Integral -352 160 R0
SYMATTR Value T=1m
SYMATTR InstName U8
SYMBOL Proportional -432 112 R0
SYMATTR Value K=10
SYMATTR InstName U9
SYMBOL add -240 112 R0
SYMATTR InstName U10
SYMBOL bv -640 176 R0
SYMATTR InstName B1
SYMATTR Value V=I(L1)
SYMBOL 1stOrderLag -592 160 R0
SYMATTR Value K=1 T=0.1m
SYMATTR InstName U11
SYMBOL TriangleWaveVoltage -128 160 R0
SYMATTR InstName U3
SYMATTR Value V1=0 V2=1 Tperiod={1/10k} tratio=1
TEXT -1104 -520 Left 2 !.tran 0 100m 0 startup
TEXT -1104 -488 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)\n.model D D(Ron=.1 Roff=1Meg Vfwd=.4)
TEXT -1128 -376 Left 4 ;Circuit
TEXT -1136 -24 Left 4 ;Controller
TEXT -1104 -432 Left 2 !.ic V(OUT)=10
TEXT -1064 24 Left 2 ;voltage controller
TEXT -664 24 Left 2 ;current controller
TEXT -152 24 Left 2 ;PWM
TEXT -1128 -568 Left 4 ;Config
TEXT -1168 -624 Left 5 ;Boost Converter
