Version 4
SHEET 1 1880 1968
WIRE -944 192 -992 192
WIRE -784 192 -896 192
WIRE -640 192 -704 192
WIRE -512 192 -640 192
WIRE -944 240 -944 192
WIRE -896 240 -896 192
WIRE -640 240 -640 192
WIRE -512 240 -512 192
WIRE -944 336 -944 320
WIRE -896 336 -896 320
WIRE -896 336 -944 336
WIRE -944 368 -944 336
WIRE -944 368 -992 368
WIRE -640 368 -640 304
WIRE -640 368 -944 368
WIRE -512 368 -512 320
WIRE -512 368 -640 368
WIRE -992 384 -992 368
WIRE -912 512 -928 512
WIRE -896 512 -912 512
WIRE -816 512 -832 512
WIRE -800 512 -816 512
WIRE -720 512 -736 512
WIRE -704 512 -720 512
WIRE -624 512 -640 512
WIRE -608 512 -624 512
WIRE -512 512 -544 512
WIRE -496 512 -512 512
WIRE -960 576 -960 544
WIRE -960 576 -992 576
WIRE -960 608 -960 576
WIRE -672 608 -672 544
WIRE -624 608 -672 608
WIRE -608 608 -624 608
WIRE -512 608 -512 512
WIRE -512 608 -544 608
WIRE -720 640 -720 512
WIRE -720 640 -928 640
WIRE -864 656 -864 544
WIRE -512 656 -512 608
WIRE -512 656 -864 656
WIRE -976 736 -992 736
WIRE -912 736 -928 736
WIRE -896 736 -912 736
WIRE -816 736 -832 736
WIRE -800 736 -816 736
WIRE -720 736 -736 736
WIRE -704 736 -720 736
WIRE -624 736 -640 736
WIRE -608 736 -624 736
WIRE -512 736 -544 736
WIRE -496 736 -512 736
WIRE -960 784 -960 768
WIRE -960 784 -992 784
WIRE -960 800 -960 784
WIRE -672 800 -672 768
WIRE -624 800 -672 800
WIRE -608 800 -624 800
WIRE -512 800 -512 736
WIRE -512 800 -544 800
WIRE -720 832 -720 736
WIRE -720 832 -928 832
WIRE -864 848 -864 768
WIRE -512 848 -512 800
WIRE -512 848 -864 848
WIRE -976 928 -992 928
WIRE -912 928 -928 928
WIRE -896 928 -912 928
WIRE -512 928 -832 928
WIRE -496 928 -512 928
WIRE -960 976 -960 960
WIRE -960 976 -992 976
WIRE -864 976 -864 960
WIRE -816 976 -864 976
WIRE -800 976 -816 976
WIRE -720 976 -736 976
WIRE -704 976 -720 976
WIRE -624 976 -640 976
WIRE -608 976 -624 976
WIRE -512 976 -512 928
WIRE -512 976 -544 976
WIRE -960 992 -960 976
WIRE -720 1024 -720 976
WIRE -720 1024 -928 1024
WIRE -672 1040 -672 1008
WIRE -624 1040 -672 1040
WIRE -608 1040 -624 1040
WIRE -512 1040 -512 976
WIRE -512 1040 -544 1040
WIRE -976 1168 -992 1168
WIRE -912 1168 -928 1168
WIRE -896 1168 -912 1168
WIRE -816 1168 -832 1168
WIRE -800 1168 -816 1168
WIRE -720 1168 -736 1168
WIRE -640 1168 -720 1168
WIRE -512 1168 -544 1168
WIRE -496 1168 -512 1168
WIRE -960 1216 -960 1200
WIRE -960 1216 -992 1216
WIRE -960 1232 -960 1216
WIRE -864 1232 -864 1200
WIRE -512 1232 -512 1168
WIRE -512 1232 -864 1232
WIRE -720 1264 -720 1168
WIRE -720 1264 -928 1264
WIRE -976 1344 -992 1344
WIRE -912 1344 -928 1344
WIRE -800 1344 -912 1344
WIRE -496 1344 -592 1344
WIRE -960 1392 -960 1376
WIRE -960 1392 -992 1392
WIRE -912 1472 -928 1472
WIRE -896 1472 -912 1472
WIRE -880 1472 -896 1472
WIRE -768 1472 -816 1472
WIRE -624 1472 -704 1472
WIRE -544 1472 -560 1472
WIRE -512 1472 -544 1472
WIRE -448 1472 -512 1472
WIRE -208 1472 -224 1472
WIRE -960 1520 -960 1504
WIRE -960 1520 -992 1520
WIRE -384 1520 -384 1472
WIRE -256 1520 -256 1504
WIRE -256 1520 -384 1520
WIRE -960 1552 -960 1520
WIRE -896 1568 -896 1472
WIRE -880 1568 -896 1568
WIRE -624 1568 -752 1568
WIRE -544 1568 -560 1568
WIRE -496 1568 -544 1568
WIRE -464 1568 -496 1568
WIRE -448 1568 -448 1472
WIRE -352 1568 -352 1472
WIRE -192 1568 -224 1568
WIRE -912 1584 -928 1584
WIRE -384 1616 -384 1568
WIRE -256 1616 -256 1600
WIRE -256 1616 -384 1616
WIRE -512 1632 -512 1472
WIRE -512 1632 -608 1632
WIRE -464 1632 -464 1568
WIRE -352 1632 -352 1568
WIRE -352 1632 -464 1632
WIRE -736 1664 -736 1504
WIRE -608 1664 -608 1632
WIRE -496 1664 -496 1568
WIRE -704 1712 -704 1696
WIRE -560 1712 -560 1664
WIRE -560 1712 -704 1712
WIRE -784 1744 -784 1600
WIRE -736 1744 -784 1744
WIRE -608 1744 -608 1664
WIRE -496 1744 -496 1664
WIRE -704 1792 -704 1776
WIRE -560 1792 -560 1744
WIRE -560 1792 -704 1792
WIRE -912 1808 -912 1584
WIRE -208 1808 -208 1472
WIRE -208 1808 -912 1808
FLAG -1120 320 0
FLAG -1232 320 0
FLAG -1120 240 m*
FLAG -512 192 OUT
FLAG -992 304 0
FLAG -992 256 m*
FLAG -992 192 IN
FLAG -992 384 0
FLAG -1232 240 IN
FLAG -992 512 IN
FLAG -496 1168 OUT_4
FLAG -496 928 OUT_3
FLAG -496 512 OUT_1
FLAG -496 1344 OUT_5
FLAG -992 576 m*
FLAG -496 736 OUT_2
FLAG -992 1168 IN
FLAG -992 1216 m*
FLAG -992 1344 IN
FLAG -992 1392 m*
FLAG -992 736 IN
FLAG -992 784 m*
FLAG -992 928 IN
FLAG -992 976 m*
FLAG -912 512 vt2_1
FLAG -816 512 vl1_1
FLAG -720 512 il1_1
FLAG -624 512 ic1_1
FLAG -624 608 ir1_1
FLAG -992 640 iin_1
FLAG -912 1168 vt2_4
FLAG -912 1344 vt2_5
FLAG -912 736 vt2_2
FLAG -912 928 vt2_3
FLAG -816 1168 vl1_4
FLAG -816 736 vl1_2
FLAG -720 976 il1_3
FLAG -720 1168 il1_4
FLAG -720 736 il1_2
FLAG -816 976 vl1_3
FLAG -624 800 ic1_2
FLAG -624 976 ic1_3
FLAG -624 736 ir1_2
FLAG -624 1040 ir1_3
FLAG -992 1264 iin_4
FLAG -992 832 iin_2
FLAG -992 1024 iin_3
FLAG -544 1472 il1_6
FLAG -192 1568 OUT_6
FLAG -992 1472 IN
FLAG -992 1520 m*
FLAG -912 1472 vt2_6
FLAG -544 1568 vc1_6
FLAG -992 1584 iin_6
SYMBOL voltage -1232 224 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {Vin}
SYMBOL voltage -1120 224 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 0.1
SYMATTR InstName V2
SYMATTR Value {m}
SYMBOL cap -656 240 R0
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL res -528 224 R0
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL ind -800 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMBOL LTspiceControlLibrary\\Sources\\DCTransformer -944 224 R0
SYMATTR InstName U1
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 544 R0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -880 1200 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -784 1200 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Il0}
SYMATTR Value T={L1}
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\TransferFunctions\\1stOrderLag -624 1200 R0
WINDOW 38 0 -66 Left 2
SYMATTR Value K={R1} T={C1*R1}
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Derivative -752 1008 M0
WINDOW 3 32 0 Right 2
SYMATTR Value T={L1}
SYMATTR InstName U6
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -656 1008 M0
SYMATTR InstName U7
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Derivative -560 1008 M0
WINDOW 3 32 0 Right 2
SYMATTR Value T={C1}
SYMATTR InstName U8
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -560 1072 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K={1/R1}
SYMATTR InstName U9
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -880 960 R0
SYMATTR InstName U10
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -880 544 R0
SYMATTR InstName U11
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -784 544 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Il0}
SYMATTR Value T={L1}
SYMATTR InstName U12
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -592 544 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Vc0}
SYMATTR Value T={C1}
SYMATTR InstName U13
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -560 640 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K={1/R1}
SYMATTR InstName U14
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -688 544 R0
SYMATTR InstName U15
SYMBOL LTspiceControlLibrary\\TransferFunctions\\2ndOrderLag -784 1376 R0
WINDOW 38 0 -66 Left 2
WINDOW 123 0 28 Left 2
SYMATTR Value2 z={1/2*(L1/R1)/sqrt(L1*C1)}
SYMATTR Value K=1 w={1/sqrt(L1*C1)}
SYMATTR InstName U16
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -880 768 R0
SYMATTR InstName U17
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -784 768 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Il0}
SYMATTR Value T={L1}
SYMATTR InstName U18
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub -688 768 R0
SYMATTR InstName U19
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Derivative -560 832 M0
WINDOW 3 32 0 Right 2
SYMATTR Value T={C1}
SYMATTR InstName U20
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -592 768 R0
SYMATTR Value K={R1}
SYMATTR InstName U21
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 1200 R0
SYMATTR InstName U22
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 1376 R0
SYMATTR InstName U23
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 768 R0
SYMATTR InstName U24
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 960 R0
SYMATTR InstName U25
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -944 608 R180
SYMATTR InstName U26
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -944 1232 R180
SYMATTR InstName U27
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -944 800 R180
SYMATTR InstName U28
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -944 992 R180
SYMATTR InstName U29
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -608 1504 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Il0}
SYMATTR InstName U30
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral -608 1600 R0
WINDOW 123 0 28 Left 2
SYMATTR Value2 Y0={Vc0}
SYMATTR InstName U31
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -512 1776 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K={-1/(C1*R1)}
SYMATTR InstName U32
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -512 1696 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K={-1/L1}
SYMATTR InstName U33
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -624 1776 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K={1/C1}
SYMATTR InstName U34
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -752 1504 R0
SYMATTR InstName U35
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -800 1600 R0
SYMATTR InstName U36
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -864 1504 R0
SYMATTR Value K={1/L1}
SYMATTR InstName U37
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -864 1600 R0
SYMATTR Value K=0
SYMATTR InstName U38
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -624 1696 M0
WINDOW 3 32 0 Right 2
SYMATTR Value K=0
SYMATTR InstName U39
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -336 1504 R0
SYMATTR Value K=0
SYMATTR InstName U40
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -432 1504 R0
SYMATTR InstName U41
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -272 1504 R0
SYMATTR InstName U42
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -688 1696 M0
SYMATTR InstName U43
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -688 1776 M0
SYMATTR InstName U44
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -976 1504 R0
SYMATTR InstName U45
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -336 1600 R0
SYMATTR InstName U46
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -432 1600 R0
SYMATTR Value K=0
SYMATTR InstName U47
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add -272 1600 R0
SYMATTR InstName U48
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul -944 1552 R180
SYMATTR InstName U49
TEXT -1256 80 Left 2 !.ac dec 100 1 10k
TEXT -1016 80 Left 2 !.params L1=10m C1=10u R1=100\n.params Vin=10 m=0.5 Vc0=Vin*m Il0=Vc0/R1
TEXT -1296 -24 Left 5 ;Buck Converter
TEXT -1256 448 Left 4 ;Equivalent Block Diagram
TEXT -408 1680 Left 2 ;equation of state\nxd=Ax+Bu\ny=Cx+Du
TEXT -544 1512 Left 2 ;x
TEXT -592 1688 Left 2 ;A
TEXT -376 1536 Left 2 ;C
TEXT -656 1512 Left 2 ;xd
TEXT -856 1528 Left 2 ;B
TEXT -1264 144 Left 4 ;Circuit
TEXT -1264 40 Left 4 ;Config
TEXT -424 184 Left 2 ;NOTE\nSwitching elements are approximated\nby imaginary variable dc transformers.\nThis reduces transient analysis time and\nallows ac analysis.\nDiscontinuous conduction mode and\nnonconduction mode are NOT considered.
