Version 4
SHEET 1 880 748
WIRE -912 -320 -1088 -320
WIRE -832 -320 -912 -320
WIRE -688 -320 -832 -320
WIRE -608 -320 -688 -320
WIRE -128 -320 -208 -320
WIRE 16 -320 -128 -320
WIRE 96 -320 16 -320
WIRE 144 -320 96 -320
WIRE -912 -304 -912 -320
WIRE -688 -304 -688 -320
WIRE -208 -304 -208 -320
WIRE 16 -304 16 -320
WIRE -832 -288 -832 -320
WIRE -608 -288 -608 -320
WIRE -128 -288 -128 -320
WIRE 96 -288 96 -320
WIRE -912 -208 -912 -224
WIRE -832 -208 -832 -224
WIRE -832 -208 -912 -208
WIRE -688 -208 -688 -224
WIRE -608 -208 -608 -224
WIRE -608 -208 -688 -208
WIRE -208 -208 -208 -224
WIRE -128 -208 -128 -224
WIRE -128 -208 -208 -208
WIRE 16 -208 16 -224
WIRE 96 -208 96 -224
WIRE 96 -208 16 -208
WIRE -1088 -192 -1088 -320
WIRE -912 -192 -912 -208
WIRE -560 -192 -912 -192
WIRE -416 -192 -480 -192
WIRE -208 -192 -208 -208
WIRE -208 -192 -368 -192
WIRE 144 -192 144 -320
WIRE 176 -192 144 -192
WIRE 272 -192 176 -192
WIRE 352 -192 272 -192
WIRE -1088 -160 -1088 -192
WIRE -416 -160 -416 -192
WIRE -368 -160 -368 -192
WIRE 176 -160 176 -192
WIRE 272 -160 272 -192
WIRE 352 -144 352 -192
WIRE -688 -32 -688 -208
WIRE -544 -32 -688 -32
WIRE -416 -32 -416 -80
WIRE -416 -32 -480 -32
WIRE -368 -32 -368 -80
WIRE 16 -32 16 -208
WIRE 16 -32 -368 -32
WIRE 176 -32 176 -96
WIRE 176 -32 144 -32
WIRE 272 -32 272 -80
WIRE 272 -32 176 -32
WIRE 352 -32 352 -96
WIRE 352 -32 272 -32
WIRE -912 -16 -912 -192
WIRE -832 -16 -912 -16
WIRE -688 -16 -688 -32
WIRE -608 -16 -688 -16
WIRE -208 -16 -208 -192
WIRE -128 -16 -208 -16
WIRE 16 -16 16 -32
WIRE 96 -16 16 -16
WIRE -912 0 -912 -16
WIRE -688 0 -688 -16
WIRE -208 0 -208 -16
WIRE 16 0 16 -16
WIRE -832 16 -832 -16
WIRE -608 16 -608 -16
WIRE -128 16 -128 -16
WIRE 96 16 96 -16
WIRE -1088 96 -1088 -80
WIRE -912 96 -912 80
WIRE -912 96 -1088 96
WIRE -832 96 -832 80
WIRE -832 96 -912 96
WIRE -688 96 -688 80
WIRE -688 96 -832 96
WIRE -608 96 -608 80
WIRE -608 96 -688 96
WIRE -208 96 -208 80
WIRE -128 96 -128 80
WIRE -128 96 -208 96
WIRE 16 96 16 80
WIRE 16 96 -128 96
WIRE 96 96 96 80
WIRE 96 96 16 96
WIRE 144 96 144 -32
WIRE 144 96 96 96
WIRE -1024 256 -1072 256
WIRE -912 256 -960 256
WIRE -784 256 -848 256
WIRE -704 256 -784 256
WIRE -672 256 -704 256
WIRE -576 256 -608 256
WIRE -400 256 -464 256
WIRE -336 256 -400 256
WIRE -224 256 -272 256
WIRE -176 256 -224 256
WIRE -64 256 -80 256
WIRE -992 336 -992 288
WIRE -784 336 -784 256
WIRE -704 336 -720 336
WIRE -640 336 -640 288
WIRE -640 336 -704 336
WIRE -992 368 -992 336
FLAG 400 -160 OUT
FLAG -992 448 0
FLAG -992 336 v*
FLAG -1088 -192 IN
FLAG -704 336 vl*_i
FLAG -960 -288 Pos
FLAG -736 16 Pos
FLAG -960 16 Neg
FLAG -736 -288 Neg
FLAG -960 -240 0
FLAG -960 64 0
FLAG -736 -240 0
FLAG -736 64 0
FLAG 0 240 Pos
FLAG 0 272 Neg
FLAG 400 -80 0
FLAG -256 64 0
FLAG -256 16 0
FLAG -256 -240 0
FLAG -256 -288 0
FLAG -32 -288 0
FLAG -32 -240 0
FLAG -832 96 0
FLAG -1072 256 OUT
FLAG -400 256 freq
FLAG -224 256 .period
FLAG -704 256 vl*_p
SYMBOL voltage -1088 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=1m
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL cap 160 -160 R0
SYMATTR InstName C1
SYMATTR Value 50µ
SYMATTR SpiceLine Rser=1m
SYMBOL voltage -992 352 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1m Cpar=1m
SYMATTR InstName V3
SYMATTR Value PULSE(0 50 0 100u)
SYMBOL sub -1008 288 R0
SYMATTR InstName U1
SYMBOL Integral -768 368 R0
SYMATTR Value T=10m
SYMATTR InstName U2
SYMATTR Value2 Y0={init_freq}
SYMBOL add -656 288 R0
SYMATTR InstName U6
SYMBOL sw -912 -208 M180
SYMATTR InstName S1
SYMBOL sw -912 96 M180
SYMATTR InstName S2
SYMBOL sw -688 -208 M180
SYMATTR InstName S3
SYMBOL sw -688 96 M180
SYMATTR InstName S4
SYMBOL LTspiceControlLibrary\\PulseModulations\\PWMf -160 288 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\PulseModulations\\ComplementaryBufferWithDeadtime -64 192 R0
SYMATTR InstName U12
SYMATTR Value Tdead=500n
SYMATTR Value2 tripdt=1m*Tdead
SYMBOL cap -480 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 600n
SYMBOL ind -464 -208 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=1m
SYMBOL ind2 -400 -64 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 5µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=1m
SYMBOL ind2 -384 -64 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 5µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=1m
SYMBOL diode -144 -224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 80 -224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMBOL diode 80 80 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMBOL diode -144 80 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMBOL res 256 -176 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL diode -848 -224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode -848 80 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode -624 -224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -624 80 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL e 400 -176 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL sw -208 -208 M180
SYMATTR InstName S5
SYMBOL sw 16 -208 M180
SYMATTR InstName S6
SYMBOL sw -208 96 M180
SYMATTR InstName S7
SYMBOL sw 16 96 M180
SYMATTR InstName S8
SYMBOL LTspiceControlLibrary\\Math\\Operands\\rcp -320 288 R0
SYMATTR InstName U11
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit -560 288 R0
SYMATTR Value y={freq_res*1.05} z=200k
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional -896 288 R0
WINDOW 3 -4 -3 Left 2
SYMATTR InstName U8
TEXT -1104 -520 Left 2 !.tran 0 10m 0 startup
TEXT -1104 -488 Left 2 !.model SW SW(Ron={Gmin} Roff=1Meg Vt=0.5 Vh=0)\n.model D D(Ron=.{Gmin} Roff=1Meg Vfwd=1n)
TEXT -1128 -376 Left 4 ;Circuit
TEXT -1112 152 Left 4 ;Controller
TEXT -1104 200 Left 2 ;voltage controller
TEXT -168 176 Left 2 ;PWM
TEXT -1128 -568 Left 4 ;Config
TEXT -1168 -624 Left 5 ;LLC Resonant Converter
TEXT -464 -16 Left 2 !K1 L2 L3 0.995
TEXT -1104 -424 Left 2 !.param freq_res= 85k init_freq={freq_res*1.1}
