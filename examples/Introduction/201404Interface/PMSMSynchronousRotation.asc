Version 4
SHEET 1 1856 680
WIRE 560 -272 368 -272
WIRE 368 -240 368 -272
WIRE 560 -224 560 -272
WIRE 640 -224 624 -224
WIRE 656 -224 640 -224
WIRE 848 -224 784 -224
WIRE 848 -208 848 -224
WIRE 640 -176 512 -176
WIRE 656 -176 640 -176
WIRE 368 -128 368 -176
WIRE 512 -128 512 -176
WIRE 512 -128 432 -128
WIRE 640 -128 624 -128
WIRE 656 -128 640 -128
WIRE 816 -128 784 -128
WIRE 848 -128 816 -128
WIRE 304 -80 304 -128
WIRE 560 -80 560 -128
WIRE 560 -80 304 -80
WIRE 816 -64 816 -128
WIRE 320 160 304 160
WIRE 640 160 320 160
WIRE 720 160 704 160
WIRE 800 160 784 160
WIRE 720 192 704 192
WIRE 800 192 784 192
WIRE 448 224 432 224
WIRE 640 224 448 224
WIRE 304 256 304 160
WIRE 432 256 432 224
WIRE 752 272 752 240
WIRE 752 272 736 272
WIRE 320 400 304 400
WIRE 416 400 320 400
WIRE 432 400 416 400
WIRE 512 400 496 400
WIRE 528 400 512 400
WIRE 608 400 592 400
WIRE 672 400 672 272
WIRE 672 400 608 400
WIRE 304 432 304 400
WIRE 416 480 416 400
WIRE 528 480 416 480
FLAG 640 -224 U
FLAG 640 -176 V
FLAG 640 -128 W
FLAG 816 -64 0
FLAG 368 -128 0
FLAG 800 160 id
FLAG 800 192 iq
FLAG 304 512 0
FLAG 320 400 om
FLAG 512 400 pm
FLAG 608 400 pe
FLAG 592 480 oe
FLAG 304 336 0
FLAG 432 336 0
FLAG 320 160 iu
FLAG 448 224 iw
FLAG 848 -224 Tm
SYMBOL LTspiceControlLibrary\\Motors\\PMSMotor 784 -176 R0
SYMATTR InstName U1
SYMATTR Value Ra={Ra} Ld={Ld} Lq={Lq} Ke={Ke} Dm={Dm} Jm={Jm} Np={Np}
SYMBOL LTspiceControlLibrary\\Sources\\3PhaseWyeSinWaveVoltage 368 -256 R0
WINDOW 3 -66 197 Left 2
WINDOW 123 -65 222 Left 2
SYMATTR InstName U2
SYMATTR Value Vamp=1 Freq=400/(2*pi)
SYMATTR Value2 Voffset=0 Td=0 Theta=0 Phi=90 Ncycles=0
SYMBOL voltage 848 -224 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 20m 0.2 0.2)
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\uw-abTransformation 640 112 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation 720 112 R0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 688 304 R0
SYMATTR InstName U5
SYMBOL bv 304 416 R0
SYMATTR InstName B1
SYMATTR Value V=I(V1)
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral 448 432 R0
SYMATTR InstName U6
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 544 432 R0
SYMATTR Value K={Np}
SYMATTR InstName U7
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 544 512 R0
SYMATTR Value K={Np}
SYMATTR InstName U8
SYMBOL FerriteBead 592 -224 R270
WINDOW 0 16 0 VTop 2
SYMATTR InstName L1
SYMATTR Value 1n
SYMBOL FerriteBead 592 -128 R270
WINDOW 0 16 0 VTop 2
SYMATTR InstName L2
SYMATTR Value 1n
SYMBOL bv 304 240 R0
SYMATTR InstName B2
SYMATTR Value V=I(L1)
SYMBOL bv 432 240 R0
SYMATTR InstName B3
SYMATTR Value V=I(L2)
TEXT 304 -320 Left 2 !.tran 0.5
TEXT 520 0 Left 2 !** Anaheim Automation bly171s-15v-8000 parameters\n.params Ra=0.35/2 Ld=0.35m/2 Lq=0.35m/2\n.params Ke=1.57m*60/(2*pi)/sqrt(2)/Np Dm=Jm/0.3 Jm=340u*7.062m Np=8/2
